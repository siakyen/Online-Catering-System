import java.io.FileNotFoundException;
import java.util.Iterator;
import java.util.Scanner;

public class Main {

    public static void main(String[] args) throws FileNotFoundException {
    //Main
    Scanner kb = new Scanner(System.in);
        
        String choice, quantity;
        String ans = null;
        Item itemFound = new Item();
        boolean valid = false;

        do {
            do {
                System.out.print("Plese enter the item ID: ");
                choice = kb.nextLine();

                int found = 0;
                int available = 0;

                for (Item item : foodList) {
                    if (choice.equalsIgnoreCase(item.getItemID())) {
                        found++;
                        if (item.getAvailability()) {
                            available++;
                            itemFound = item;
                        }
                    }
                }

                if (found == 0) {
                    System.out.println("** Invalid input, please enter again **\n");
                } else if (available == 0) {
                    System.out.println("** The item is out of stock, please enter others **\n");
                } else {
                    valid = true;
                    do {
                        System.out.print("Please enter quantity: ");
                        quantity = kb.nextLine();

                        if (!validateQuantity(quantity)) {
                            System.out.println("** Invalid quantity, please enter again **\n");
                        }
                    } while (!validateQuantity(quantity));

                    cart.addItem(new OrderItem(itemFound, Integer.parseInt(quantity)));
                    System.out.println("** Added successfully! **");
                    System.out.print("\nDo you want to add more? (Y = yes): ");
                    ans = kb.nextLine();
                }

            } while (!valid);
        } while (ans.equals("Y"));
    }
    
    public static boolean validateQuantity(String quantity) {
        if (quantity.isEmpty()) {
            return false;
        }

        //check are all digits?
        for (int i = 0; i < quantity.length(); i++) {
            if (Character.isDigit(quantity.charAt(i)) == false) {
                return false;
            }
        }

        int quan = Integer.parseInt(quantity);

        if (quan < 1) {
            return false;
        }

        return true;
    }
 }
